webpackJsonp([1],{"0Rgs":function(t,a){},"L8+A":function(t,a){},NHnr:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=s("7+uW"),n={name:"top",methods:{alert:function(t){function a(){return t.apply(this,arguments)}return a.toString=function(){return t.toString()},a}(function(){alert("暂不支持注册和登录功能")})}},i={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"header"},[s("div",{staticClass:"header-wrapper"},[s("router-link",{attrs:{to:{name:"root"}}},[s("img",{attrs:{src:"https://static2.cnodejs.org/public/images/cnodejs_light.svg",alt:"logo"}})]),t._v(" "),s("ul",[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),s("li",{on:{click:t.alert}},[t._v("注册")]),t._v(" "),s("li",{on:{click:t.alert}},[t._v("登录")])])],1)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("a",{attrs:{href:"#"}},[this._v("首页")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("a",{attrs:{href:"#"}},[this._v("新手入门")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("a",{attrs:{href:"#"}},[this._v("API")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("a",{attrs:{href:"#"}},[this._v("关于")])])}]};var r={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"footer"},[a("div",{staticClass:"content"},[a("p",[this._v("CNode 社区为国内最专业的 Node.js 开源技术社区，致力于 Node.js 的技术研究。")]),this._v(" "),a("p",[this._v("新手搭建 Node.js 服务器，推荐使用无需备案的 "),a("a",{attrs:{href:"https://www.digitalocean.com/",target:"_blank"}},[this._v("DigitalOcean")])])])])}]};var o={name:"App",components:{Top:s("VU/8")(n,i,!1,function(t){s("r35m")},"data-v-6772638e",null).exports,Footer:s("VU/8")({name:"Footer"},r,!1,function(t){s("lYq+")},"data-v-8430bb64",null).exports}},c={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{attrs:{id:"app"}},[a("Top"),this._v(" "),a("div",{staticClass:"main"},[a("router-view",{attrs:{name:"main"}})],1),this._v(" "),a("Footer")],1)},staticRenderFns:[]};var l=s("VU/8")(o,c,!1,function(t){s("vmsw")},null,null).exports,_=s("/ocq"),v={name:"Panigation",data:function(){return{first:"首页",last:"尾页",pre:"<上一页",next:"下一页>",current:1,page:[1,2,3,4,5]}},methods:{firstClick:function(){this.current=1,this.$emit("pagechange",this.current),this.page=[1,2,3,4,5],console.log(this.page),this.windowScroll()},lastClick:function(){this.current=99,this.$emit("pagechange",this.current),this.page=[95,96,97,98,99],this.windowScroll()},nextClick:function(){this.current+=1,this.$emit("pagechange",this.current),this.pageNumChange(),this.windowScroll()},preClick:function(){this.current-=1,this.$emit("pagechange",this.current),this.pageNumChange(),this.windowScroll()},pageClick:function(t){this.current=t,this.pageNumChange(),this.$emit("pagechange",this.current),this.windowScroll()},pageNumChange:function(){var t=this.page.slice(-1)[0],a=this.page[0];this.current===t?this.page=this.page.map(function(t){return t+1}):this.current===a&&1!==this.current&&(this.page=this.page.map(function(t){return t-1}))},windowScroll:function(){window.scrollTo(0,0)}}},p={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"pagination"},[s("div",{staticClass:"pageButtons"},[s("button",{staticClass:"first",on:{click:t.firstClick}},[t._v(t._s(t.first))]),t._v(" "),s("button",{staticClass:"pre",on:{click:t.preClick}},[t._v(t._s(t.pre))]),t._v(" "),t._l(t.page,function(a){return s("button",{staticClass:"page",class:{active:t.current===a},on:{click:function(s){return t.pageClick(a)}}},[t._v(t._s(a)+"\n    ")])}),t._v(" "),s("button",{staticClass:"next",on:{click:t.nextClick}},[t._v(t._s(t.next))]),t._v(" "),s("button",{staticClass:"last",on:{click:t.lastClick}},[t._v(t._s(t.last))])],2)])},staticRenderFns:[]};var u={name:"MainList",data:function(){return{posts:[],isLoading:!0,type:"",isActive:"",currentPage:"1"}},methods:{getData:function(){var t=this;this.isActive="all",this.$axios.get("https://cnodejs.org/api/v1/topics/?limit=40&page="+this.currentPage).then(function(a){t.posts=a.data.data,t.isLoading=!1})},getType:function(t){var a=this;console.log(t),this.isActive=t,this.$axios.get("https://cnodejs.org/api/v1/topics/?limit=40&page=1&tab="+t).then(function(t){a.posts=t.data.data,a.isLoading=!1})},defaultAvatar:function(){},getPage:function(t){this.currentPage=t,this.getData()}},components:{Pagination:s("VU/8")(v,p,!1,function(t){s("rsEx")},"data-v-21cc9773",null).exports},beforeMount:function(){this.getData()}},h={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[!0===t.isLoading?s("div",{staticClass:"loading"},[s("span"),t._v(" "),s("span"),t._v(" "),s("span"),t._v(" "),s("span"),t._v(" "),s("span")]):s("div",{staticClass:"mainList"},[s("nav",[s("span",{class:{active:"all"===t.isActive},on:{click:t.getData}},[t._v("全部")]),t._v(" "),s("span",{class:{active:"good"===t.isActive},on:{click:function(a){return t.getType("good")}}},[t._v("精华")]),t._v(" "),s("span",{class:{active:"share"===t.isActive},on:{click:function(a){return t.getType("share")}}},[t._v("分享")]),t._v(" "),s("span",{class:{active:"ask"===t.isActive},on:{click:function(a){return t.getType("ask")}}},[t._v("问答")]),t._v(" "),s("span",{class:{active:"job"===t.isActive},on:{click:function(a){return t.getType("job")}}},[t._v("招聘")])]),t._v(" "),s("ol",t._l(t.posts,function(a){return s("li",[s("div",{staticClass:"left-wrapper"},[s("router-link",{attrs:{to:{name:"user",params:{name:a.author.loginname}}}},[s("img",{attrs:{src:a.author.avatar_url,alt:""},on:{error:t.defaultAvatar}})]),t._v(" "),s("span",{staticClass:"count"},[t._v(t._s(a.reply_count)+"/"),s("span",{staticClass:"visit"},[t._v(t._s(a.visit_count))])]),t._v(" "),!0===a.top?s("span",{staticClass:"tab top"},[t._v("置顶")]):t._e(),t._v(" "),1==!a.top&&!0===a.good?s("span",{staticClass:"tab good"},[t._v("精华")]):t._e(),t._v(" "),1==!a.top&&1==!a.good&&"share"===a.tab?s("span",{staticClass:"tab"},[t._v("分享")]):t._e(),t._v(" "),1==!a.top&&1==!a.good&&"ask"===a.tab?s("span",{staticClass:"tab"},[t._v("问答")]):t._e(),t._v(" "),1==!a.top&&1==!a.good&&"job"===a.tab?s("span",{staticClass:"tab"},[t._v("招聘")]):t._e(),t._v(" "),s("router-link",{attrs:{to:{name:"post",params:{id:a.id}}}},[s("span",{staticClass:"title"},[t._v(t._s(a.title))])])],1),t._v(" "),s("div",{staticClass:"right-wrapper"},[s("span",{staticClass:"replyTime"},[t._v(t._s(t._f("formatDate")(a.last_reply_at)))])])])}),0),t._v(" "),s("Pagination",{on:{pagechange:t.getPage}})],1)])},staticRenderFns:[]};var d=s("VU/8")(u,h,!1,function(t){s("0Rgs")},"data-v-5edd85a4",null).exports,m={name:"Article",data:function(){return{post:{},reply:[],isLoading:!0,articleId:""}},methods:{getArticle:function(){var t=this;this.$axios.get("https://cnodejs.org/api/v1/topic/"+this.articleId).then(function(a){t.post=a.data.data,console.log(t.post),t.reply=t.post.replies,t.isLoading=!1})}},beforeMount:function(){this.articleId=this.$route.params.id,this.getArticle()}},g={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[!0===t.isLoading?s("div",{staticClass:"loading"},[s("span"),t._v(" "),s("span"),t._v(" "),s("span"),t._v(" "),s("span"),t._v(" "),s("span")]):s("div",{staticClass:"article"},[s("div",{staticClass:"main-wrapper"},[s("div",{staticClass:"paper"},[s("div",{staticClass:"title-wrapper"},[!0===t.post.good?s("span",{staticClass:"tab"},[t._v("精华")]):t._e(),t._v(" "),!0===t.post.top?s("span",{staticClass:"tab"},[t._v("置顶")]):t._e(),t._v(" "),s("span",{staticClass:"title"},[t._v(t._s(t.post.title))])]),t._v(" "),s("ul",[s("span",[t._v("•")]),t._v(" "),s("li",[t._v(" 发布于"+t._s(t._f("formatDate")(t.post.create_at)))]),t._v(" "),s("span",[t._v("•")]),t._v(" "),s("li",[t._v(" 作者 "+t._s(t.post.author.loginname))]),t._v(" "),s("span",[t._v("•")]),t._v(" "),s("li",[t._v(t._s(t.post.visit_count)+"次浏览")]),t._v(" "),s("span",[t._v("•")]),t._v(" "),s("li",[t._v(" 来自 分享")])]),t._v(" "),s("div",{staticClass:"content",attrs:{id:"content"},domProps:{innerHTML:t._s(t.post.content)}})]),t._v(" "),0!==t.reply.length?s("div",{staticClass:"reply"},[s("div",{staticClass:"num"},[t._v(t._s(t.reply.length)+"回复")]),t._v(" "),s("ol",t._l(t.reply,function(a,e){return s("li",[s("router-link",{attrs:{to:{name:"user",params:{name:a.author.loginname}}}},[s("img",{attrs:{src:a.author.avatar_url,alt:"avatar"}})]),t._v(" "),s("div",{staticClass:"reply-wrapper"},[s("div",{staticClass:"replyInfo"},[s("span",{staticClass:"name"},[t._v(t._s(a.author.loginname))]),t._v(" "),s("span",{staticClass:"floor"},[t._v(t._s(e+1)+"楼")]),t._v(" "),s("span",{staticClass:"replyTime"},[t._v(t._s(t._f("formatDate")(a.create_at)))]),t._v(" "),0!==a.ups.length?s("span",{staticClass:"likes"},[t._v("☝"+t._s(a.ups.length))]):t._e()]),t._v(" "),s("div",{staticClass:"replyContent",domProps:{innerHTML:t._s(a.content)}})])],1)}),0)]):t._e()]),t._v(" "),s("div",{staticClass:"aside"},[s("div",{staticClass:"author"},[s("div",{staticClass:"title"},[t._v("本文作者")]),t._v(" "),s("router-link",{attrs:{to:{name:"user",params:{name:t.post.author.loginname}}}},[s("img",{attrs:{src:t.post.author.avatar_url,alt:"avatar"}})]),t._v(" "),s("div",{staticClass:"name"},[t._v(t._s(t.post.author.loginname))])],1),t._v(" "),t._m(0),t._v(" "),t._m(1)])])])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"link"},[a("a",{attrs:{target:"_blank",href:"https://www.aliyun.com/product/nodejs?ref=cnode"}},[a("img",{attrs:{src:"//static.cnodejs.org/FlajCCXkxZaOsuWp3k0iaiqfrJaS",alt:""}})]),this._v(" "),a("a",{attrs:{target:"_blank",href:"https://www.ucloud.cn/site/active/gift.html?utm_source=cnodejs&utm_medium=content_pic_pc_540_130&utm_campaign=huodong&utm_content=gift&ytag=cnodejs"}},[a("img",{attrs:{src:"//static.cnodejs.org/Fn4D6BhOTz1IswvmzeZ1q7QW1ls_",alt:""}})]),this._v(" "),a("a",{attrs:{target:"_blank",href:"https://coding.net/?utm_source=cnodejs&utm_medium=banner&utm_campaign=march2019"}},[a("img",{attrs:{src:"//static.cnodejs.org/Ft7Ekzy3Dd-_aDGcmoEgct5uTnVZ",alt:""}})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"ad"},[a("img",{attrs:{src:s("gcCb"),alt:""}})])}]};var f=s("VU/8")(m,g,!1,function(t){s("L8+A")},null,null).exports,C={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[!0===t.isLoading?s("div",{staticClass:"loading"},[s("span"),t._v(" "),s("span"),t._v(" "),s("span"),t._v(" "),s("span"),t._v(" "),s("span")]):s("div",{staticClass:"wrapper"},[s("div",{staticClass:"userInfo"},[s("section",{staticClass:"basic"},[s("img",{attrs:{src:t.info.avatar_url,alt:""}}),t._v(" "),s("span",[t._v(t._s(t.name))]),t._v(" "),s("span",[t._v(t._s(t.info.score)+"积分")]),t._v(" "),s("span",[t._v("注册时间"+t._s(t._f("formatDate")(t.info.create_at)))])]),t._v(" "),s("section",{staticClass:"post"},[s("div",{staticClass:"create"},[t._v("\n          最近创建的话题\n        ")]),t._v(" "),0===t.info.recent_topics.length?s("div",{staticClass:"none"},[t._v("无话题")]):s("ol",t._l(t.info.recent_topics,function(a){return s("li",[s("img",{attrs:{src:a.author.avatar_url,alt:"avater"}}),t._v(" "),s("router-link",{attrs:{to:{name:"post",params:{id:a.id}}}},[s("span",{staticClass:"title"},[t._v(t._s(a.title))])]),t._v(" "),s("span",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(a.last_reply_at)))])],1)}),0)]),t._v(" "),s("section",{staticClass:"reply"},[s("div",{staticClass:"response"},[t._v("\n          最近回复的话题\n        ")]),t._v(" "),0===t.info.recent_replies.length?s("div",{staticClass:"none"},[t._v("无话题")]):s("ol",t._l(t.info.recent_replies,function(a){return s("li",[s("img",{attrs:{src:a.author.avatar_url,alt:"avater"}}),t._v(" "),s("router-link",{attrs:{to:{name:"post",params:{id:a.id}}}},[s("span",{staticClass:"title"},[t._v(t._s(a.title))])]),t._v(" "),s("span",{staticClass:"time"},[t._v(t._s(t._f("formatDate")(a.last_reply_at)))])],1)}),0)])]),t._v(" "),s("div",{staticClass:"aside"})])])},staticRenderFns:[]};var k=s("VU/8")({name:"UserInfo",data:function(){return{isLoading:!0,info:{},name:""}},methods:{getInfo:function(){var t=this;this.$axios.get("https://cnodejs.org/api/v1/user/"+this.name).then(function(a){t.info=a.data.data,t.isLoading=!1})}},beforeMount:function(){this.name=this.$route.params.name,this.getInfo()}},C,!1,function(t){s("umBq")},"data-v-03b9893d",null).exports;e.a.use(_.a);var w=new _.a({routes:[{name:"root",path:"/",components:{main:d}},{name:"post",path:"/topic/:id",components:{main:f}},{name:"user",path:"/user/:name",components:{main:k}}]}),b=s("mtWM"),y=s.n(b);e.a.prototype.$axios=y.a,e.a.config.productionTip=!1,e.a.filter("formatDate",function(t){if(!t)return"";var a=new Date(t),s=(new Date).getTime()-a.getTime();return s<0?"":s/1e3<30?"刚刚":s/1e3<60?parseInt(s/1e3)+"秒前":s/6e4<60?parseInt(s/6e4)+"分钟前":s/36e5<24?parseInt(s/36e5)+"小时前":s/864e5<31?parseInt(s/864e5)+"天前":s/2592e6<12?parseInt(s/2592e6)+"月前":parseInt(s/31536e6)+"年前"}),new e.a({el:"#app",router:w,components:{App:l},template:"<App/>"})},gcCb:function(t,a,s){t.exports=s.p+"static/img/ad.946a9dd.jpg"},"lYq+":function(t,a){},r35m:function(t,a){},rsEx:function(t,a){},umBq:function(t,a){},vmsw:function(t,a){}},["NHnr"]);
//# sourceMappingURL=app.32f0253f5ef105402468.js.map